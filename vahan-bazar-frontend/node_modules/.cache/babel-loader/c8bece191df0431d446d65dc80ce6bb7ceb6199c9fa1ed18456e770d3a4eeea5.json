{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91799\\\\Desktop\\\\Vahan-Bazzar\\\\vahanBazar\\\\vahan-bazar-frontend\\\\src\\\\pages\\\\BrowsePage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BrowsePage = () => {\n  _s();\n  const [vehicles, setVehicles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [compareList, setCompareList] = useState([]);\n  const [showCompareModal, setShowCompareModal] = useState(false);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const navigate = useNavigate();\n  const [filters, setFilters] = useState({\n    category: '',\n    brand: '',\n    fuel_type: '',\n    min_price: '',\n    max_price: '',\n    search: ''\n  });\n\n  // Fetch vehicles from API\n  const fetchVehicles = useCallback(async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams();\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value) params.append(key, value);\n      });\n      const response = await axios.get(`http://localhost:5000/api/vehicles?${params}`);\n      // Guard against null/undefined entries coming from the API\n      const cleaned = (Array.isArray(response.data) ? response.data : []).filter(v => !!v && typeof v === 'object');\n      setVehicles(cleaned);\n    } catch (error) {\n      console.error('Error fetching vehicles:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [filters]);\n  useEffect(() => {\n    fetchVehicles();\n\n    // Load compare list from localStorage\n    const savedCompareList = localStorage.getItem('compareList');\n    if (savedCompareList) setCompareList(JSON.parse(savedCompareList));\n  }, [fetchVehicles]);\n  const handleFilterChange = e => {\n    setFilters({\n      ...filters,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleAddToCompare = vehicleId => {\n    let newCompareList;\n    if (compareList.includes(vehicleId)) {\n      newCompareList = compareList.filter(id => id !== vehicleId);\n    } else {\n      if (compareList.length >= 4) {\n        setShowCompareModal(true);\n        return;\n      }\n      newCompareList = [...compareList, vehicleId];\n    }\n    setCompareList(newCompareList);\n    localStorage.setItem('compareList', JSON.stringify(newCompareList));\n  };\n  const handleCompareNow = () => {\n    if (compareList.length >= 2) navigate('/compare');\n  };\n  const clearFilters = () => {\n    setFilters({\n      category: '',\n      brand: '',\n      fuel_type: '',\n      min_price: '',\n      max_price: '',\n      search: ''\n    });\n  };\n  const formatPrice = price => new Intl.NumberFormat('en-IN', {\n    style: 'currency',\n    currency: 'INR',\n    maximumFractionDigits: 0\n  }).format(price);\n  const activeFiltersCount = Object.values(filters).filter(value => value !== '').length;\n\n  // Normalize potentially relative URLs\n  const normalizeUrl = url => {\n    if (!url) return url;\n    if (/^https?:\\/\\//i.test(url)) return url;\n    if (/^\\/\\//.test(url)) return `https:${url}`;\n    if (url.startsWith('/')) return `http://localhost:5000${url}`;\n    return url;\n  };\n\n  // Helper to get image URL safely\n  const getVehicleImage = vehicle => {\n    var _anyV$images$, _vehicle$images, _vehicle$images2, _vehicle$images2$gall, _images, _images$thumbnail, _images2, _images2$gallery, _images2$gallery$;\n    const anyV = vehicle;\n    const imgsArr = Array.isArray(anyV.images) ? anyV.images : undefined;\n    const firstObjImage = Array.isArray(anyV.images) && typeof anyV.images[0] === 'object' ? (_anyV$images$ = anyV.images[0]) === null || _anyV$images$ === void 0 ? void 0 : _anyV$images$.url : undefined;\n    const candidates = [(_vehicle$images = vehicle.images) === null || _vehicle$images === void 0 ? void 0 : _vehicle$images.thumbnail, (_vehicle$images2 = vehicle.images) === null || _vehicle$images2 === void 0 ? void 0 : (_vehicle$images2$gall = _vehicle$images2.gallery) === null || _vehicle$images2$gall === void 0 ? void 0 : _vehicle$images2$gall[0], vehicle.thumbnail, vehicle.image, vehicle.imageUrl, vehicle.image_url, vehicle.primaryImage, vehicle.mainImage, imgsArr === null || imgsArr === void 0 ? void 0 : imgsArr[0], firstObjImage, (_images = vehicle.images) === null || _images === void 0 ? void 0 : (_images$thumbnail = _images.thumbnail) === null || _images$thumbnail === void 0 ? void 0 : _images$thumbnail.url, (_images2 = vehicle.images) === null || _images2 === void 0 ? void 0 : (_images2$gallery = _images2.gallery) === null || _images2$gallery === void 0 ? void 0 : (_images2$gallery$ = _images2$gallery[0]) === null || _images2$gallery$ === void 0 ? void 0 : _images2$gallery$.url];\n    const raw = candidates.find(u => typeof u === 'string' && u.length > 0);\n    const url = normalizeUrl(raw);\n    return url || 'https://via.placeholder.com/400x300?text=No+Image';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-sky-50 via-white to-orange-50 pb-20\",\n    children: [sidebarOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-overlay\",\n      onClick: () => setSidebarOpen(false),\n      \"aria-hidden\": \"true\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `sidebar ${sidebarOpen ? 'translate-x-0' : '-translate-x-full'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: \"Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSidebarOpen(false),\n            className: \"text-gray-500 hover:text-gray-700 text-2xl\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"search\",\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Search Vehicles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"search\",\n              type: \"text\",\n              name: \"search\",\n              value: filters.search,\n              onChange: handleFilterChange,\n              placeholder: \"Search by brand, model, variant, fuel, mileage, features...\",\n              className: \"input-field\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"category\",\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"category\",\n              name: \"category\",\n              value: filters.category,\n              onChange: handleFilterChange,\n              className: \"input-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All Categories\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Bike\",\n                children: \"Bike\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Scooter\",\n                children: \"Scooter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"EV\",\n                children: \"Electric Vehicle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"brand\",\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"brand\",\n              name: \"brand\",\n              value: filters.brand,\n              onChange: handleFilterChange,\n              className: \"input-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All Brands\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Honda\",\n                children: \"Honda\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Yamaha\",\n                children: \"Yamaha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"TVS\",\n                children: \"TVS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Ola\",\n                children: \"Ola\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Royal Enfield\",\n                children: \"Royal Enfield\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"fuel_type\",\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Fuel Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"fuel_type\",\n              name: \"fuel_type\",\n              value: filters.fuel_type,\n              onChange: handleFilterChange,\n              className: \"input-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All Fuel Types\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Petrol\",\n                children: \"Petrol\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Electric\",\n                children: \"Electric\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Diesel\",\n                children: \"Diesel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"min_price\",\n                className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                children: \"Min Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"min_price\",\n                type: \"number\",\n                name: \"min_price\",\n                value: filters.min_price,\n                onChange: handleFilterChange,\n                placeholder: \"Min price\",\n                className: \"input-field\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"max_price\",\n                className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                children: \"Max Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"max_price\",\n                type: \"number\",\n                name: \"max_price\",\n                value: filters.max_price,\n                onChange: handleFilterChange,\n                placeholder: \"Max price\",\n                className: \"input-field\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearFilters,\n            className: \"w-full btn-outline mt-4\",\n            children: \"Clear All Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `transition-all duration-300 ${sidebarOpen ? 'ml-80' : 'ml-0'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-4xl font-bold text-gray-900 mb-2\",\n              children: \"Browse Vehicles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg text-gray-600\",\n              children: \"Discover your perfect ride from our curated collection\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSidebarOpen(true),\n            className: \"btn-secondary flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), activeFiltersCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge badge-primary\",\n              children: activeFiltersCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center py-20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",\n          children: vehicles.map(vehicle => {\n            var _vehicle$ratings, _vehicle$ratings$user, _vehicle$pricing;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vehicle-card card-hover\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative overflow-hidden\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: getVehicleImage(vehicle),\n                  alt: `${vehicle.brand} ${vehicle.model}`,\n                  className: \"vehicle-card-image\",\n                  loading: \"lazy\",\n                  onError: e => {\n                    e.currentTarget.src = 'https://via.placeholder.com/400x300?text=No+Image';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-4 right-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleAddToCompare(vehicle._id),\n                    className: `compare-btn ${compareList.includes(vehicle._id) ? 'active' : ''}`,\n                    children: compareList.includes(vehicle._id) ? '✓ Added' : 'Compare'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-4 left-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge badge-secondary\",\n                    children: vehicle.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl font-bold text-gray-900 mb-1\",\n                  children: [vehicle.brand, \" \", vehicle.model]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 mb-2\",\n                  children: vehicle.variant\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge badge-primary\",\n                    children: vehicle.fuel_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600\",\n                    children: [((_vehicle$ratings = vehicle.ratings) === null || _vehicle$ratings === void 0 ? void 0 : (_vehicle$ratings$user = _vehicle$ratings.user_rating) === null || _vehicle$ratings$user === void 0 ? void 0 : _vehicle$ratings$user.toFixed(1)) || 'N/A', \" \\u2605\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"price-display mb-1\",\n                    children: (_vehicle$pricing = vehicle.pricing) !== null && _vehicle$pricing !== void 0 && _vehicle$pricing.ex_showroom_inr ? formatPrice(vehicle.pricing.ex_showroom_inr) : 'Price N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"Ex-showroom price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/vehicle/${vehicle._id}`,\n                  className: \"flex-1 btn-primary text-center\",\n                  children: \"View Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)]\n            }, vehicle._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this), !loading && vehicles.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-20\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xl text-gray-600\",\n            children: \"No vehicles found. Try adjusting your filters.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), compareList.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-6 right-6 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-2xl p-6 border-2 border-orange-200 max-w-sm\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-semibold text-gray-900 mb-1\",\n              children: [compareList.length, \" vehicle\", compareList.length > 1 ? 's' : '', \" selected\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCompareNow,\n            disabled: compareList.length < 2,\n            className: \"btn-primary disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: \"Compare Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n};\n_s(BrowsePage, \"HmqsFL7wgP/vIml/gfXb3u44Ous=\", false, function () {\n  return [useNavigate];\n});\n_c = BrowsePage;\nexport default BrowsePage;\nvar _c;\n$RefreshReg$(_c, \"BrowsePage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","useNavigate","axios","jsxDEV","_jsxDEV","BrowsePage","_s","vehicles","setVehicles","loading","setLoading","compareList","setCompareList","showCompareModal","setShowCompareModal","sidebarOpen","setSidebarOpen","navigate","filters","setFilters","category","brand","fuel_type","min_price","max_price","search","fetchVehicles","params","URLSearchParams","Object","entries","forEach","key","value","append","response","get","cleaned","Array","isArray","data","filter","v","error","console","savedCompareList","localStorage","getItem","JSON","parse","handleFilterChange","e","target","name","handleAddToCompare","vehicleId","newCompareList","includes","id","length","setItem","stringify","handleCompareNow","clearFilters","formatPrice","price","Intl","NumberFormat","style","currency","maximumFractionDigits","format","activeFiltersCount","values","normalizeUrl","url","test","startsWith","getVehicleImage","vehicle","_anyV$images$","_vehicle$images","_vehicle$images2","_vehicle$images2$gall","_images","_images$thumbnail","_images2","_images2$gallery","_images2$gallery$","anyV","imgsArr","images","undefined","firstObjImage","candidates","thumbnail","gallery","image","imageUrl","image_url","primaryImage","mainImage","raw","find","u","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","onChange","placeholder","map","_vehicle$ratings","_vehicle$ratings$user","_vehicle$pricing","src","alt","model","onError","currentTarget","_id","variant","ratings","user_rating","toFixed","pricing","ex_showroom_inr","to","disabled","_c","$RefreshReg$"],"sources":["C:/Users/91799/Desktop/Vahan-Bazzar/vahanBazar/vahan-bazar-frontend/src/pages/BrowsePage.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\ninterface Vehicle {\r\n  _id: string;\r\n  brand: string;\r\n  model: string;\r\n  variant: string;\r\n  category: string;\r\n  fuel_type: string;\r\n  pricing?: {\r\n    ex_showroom_inr: number;\r\n    on_road_inr: number;\r\n  };\r\n  images?: {\r\n    thumbnail?: string;\r\n    gallery?: string[];\r\n  };\r\n  ratings?: {\r\n    user_rating: number;\r\n    reviews_count?: number;\r\n  };\r\n}\r\n\r\nconst BrowsePage: React.FC = () => {\r\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [compareList, setCompareList] = useState<string[]>([]);\r\n  const [showCompareModal, setShowCompareModal] = useState(false);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [filters, setFilters] = useState({\r\n    category: '',\r\n    brand: '',\r\n    fuel_type: '',\r\n    min_price: '',\r\n    max_price: '',\r\n    search: '',\r\n  });\r\n\r\n  // Fetch vehicles from API\r\n  const fetchVehicles = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = new URLSearchParams();\r\n      Object.entries(filters).forEach(([key, value]) => {\r\n        if (value) params.append(key, value);\r\n      });\r\n      const response = await axios.get(`http://localhost:5000/api/vehicles?${params}`);\r\n      // Guard against null/undefined entries coming from the API\r\n      const cleaned = (Array.isArray(response.data) ? response.data : [])\r\n        .filter((v) => !!v && typeof v === 'object');\r\n      setVehicles(cleaned as Vehicle[]);\r\n    } catch (error) {\r\n      console.error('Error fetching vehicles:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters]);\r\n\r\n  useEffect(() => {\r\n    fetchVehicles();\r\n\r\n    // Load compare list from localStorage\r\n    const savedCompareList = localStorage.getItem('compareList');\r\n    if (savedCompareList) setCompareList(JSON.parse(savedCompareList));\r\n  }, [fetchVehicles]);\r\n\r\n  const handleFilterChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    setFilters({ ...filters, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleAddToCompare = (vehicleId: string) => {\r\n    let newCompareList: string[];\r\n    if (compareList.includes(vehicleId)) {\r\n      newCompareList = compareList.filter(id => id !== vehicleId);\r\n    } else {\r\n      if (compareList.length >= 4) {\r\n        setShowCompareModal(true);\r\n        return;\r\n      }\r\n      newCompareList = [...compareList, vehicleId];\r\n    }\r\n    setCompareList(newCompareList);\r\n    localStorage.setItem('compareList', JSON.stringify(newCompareList));\r\n  };\r\n\r\n  const handleCompareNow = () => {\r\n    if (compareList.length >= 2) navigate('/compare');\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setFilters({ category: '', brand: '', fuel_type: '', min_price: '', max_price: '', search: '' });\r\n  };\r\n\r\n  const formatPrice = (price: number) =>\r\n    new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(price);\r\n\r\n  const activeFiltersCount = Object.values(filters).filter(value => value !== '').length;\r\n\r\n  // Normalize potentially relative URLs\r\n  const normalizeUrl = (url: string | undefined) => {\r\n    if (!url) return url;\r\n    if (/^https?:\\/\\//i.test(url)) return url;\r\n    if (/^\\/\\//.test(url)) return `https:${url}`;\r\n    if (url.startsWith('/')) return `http://localhost:5000${url}`;\r\n    return url;\r\n  };\r\n\r\n  // Helper to get image URL safely\r\n  const getVehicleImage = (vehicle: Vehicle) => {\r\n    const anyV: any = vehicle as any;\r\n    const imgsArr = Array.isArray(anyV.images) ? anyV.images : undefined;\r\n    const firstObjImage = Array.isArray(anyV.images) && typeof anyV.images[0] === 'object' ? anyV.images[0]?.url : undefined;\r\n    const candidates: Array<string | undefined> = [\r\n      vehicle.images?.thumbnail,\r\n      vehicle.images?.gallery?.[0],\r\n      (vehicle as any).thumbnail,\r\n      (vehicle as any).image,\r\n      (vehicle as any).imageUrl,\r\n      (vehicle as any).image_url,\r\n      (vehicle as any).primaryImage,\r\n      (vehicle as any).mainImage,\r\n      imgsArr?.[0],\r\n      firstObjImage,\r\n      (vehicle as any).images?.thumbnail?.url,\r\n      (vehicle as any).images?.gallery?.[0]?.url,\r\n    ];\r\n    const raw = candidates.find((u) => typeof u === 'string' && u.length > 0);\r\n    const url = normalizeUrl(raw);\r\n    return url || 'https://via.placeholder.com/400x300?text=No+Image';\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-sky-50 via-white to-orange-50 pb-20\">\r\n      {/* Sidebar Overlay */}\r\n      {sidebarOpen && <div className=\"sidebar-overlay\" onClick={() => setSidebarOpen(false)} aria-hidden=\"true\" />}\r\n\r\n      {/* Sidebar */}\r\n      <div className={`sidebar ${sidebarOpen ? 'translate-x-0' : '-translate-x-full'}`}>\r\n        <div className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Filters</h2>\r\n            <button onClick={() => setSidebarOpen(false)} className=\"text-gray-500 hover:text-gray-700 text-2xl\">×</button>\r\n          </div>\r\n\r\n          <div className=\"space-y-6\">\r\n            {/* Search */}\r\n            <div>\r\n              <label htmlFor=\"search\" className=\"block text-sm font-semibold text-gray-700 mb-2\">Search Vehicles</label>\r\n              <input\r\n                id=\"search\"\r\n                type=\"text\"\r\n                name=\"search\"\r\n                value={filters.search}\r\n                onChange={handleFilterChange}\r\n                placeholder=\"Search by brand, model, variant, fuel, mileage, features...\"\r\n                className=\"input-field\"\r\n              />\r\n            </div>\r\n\r\n            {/* Category */}\r\n            <div>\r\n              <label htmlFor=\"category\" className=\"block text-sm font-semibold text-gray-700 mb-2\">Category</label>\r\n              <select id=\"category\" name=\"category\" value={filters.category} onChange={handleFilterChange} className=\"input-field\">\r\n                <option value=\"\">All Categories</option>\r\n                <option value=\"Bike\">Bike</option>\r\n                <option value=\"Scooter\">Scooter</option>\r\n                <option value=\"EV\">Electric Vehicle</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Brand */}\r\n            <div>\r\n              <label htmlFor=\"brand\" className=\"block text-sm font-semibold text-gray-700 mb-2\">Brand</label>\r\n              <select id=\"brand\" name=\"brand\" value={filters.brand} onChange={handleFilterChange} className=\"input-field\">\r\n                <option value=\"\">All Brands</option>\r\n                <option value=\"Honda\">Honda</option>\r\n                <option value=\"Yamaha\">Yamaha</option>\r\n                <option value=\"TVS\">TVS</option>\r\n                <option value=\"Ola\">Ola</option>\r\n                <option value=\"Royal Enfield\">Royal Enfield</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Fuel Type */}\r\n            <div>\r\n              <label htmlFor=\"fuel_type\" className=\"block text-sm font-semibold text-gray-700 mb-2\">Fuel Type</label>\r\n              <select id=\"fuel_type\" name=\"fuel_type\" value={filters.fuel_type} onChange={handleFilterChange} className=\"input-field\">\r\n                <option value=\"\">All Fuel Types</option>\r\n                <option value=\"Petrol\">Petrol</option>\r\n                <option value=\"Electric\">Electric</option>\r\n                <option value=\"Diesel\">Diesel</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Price Range */}\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label htmlFor=\"min_price\" className=\"block text-sm font-semibold text-gray-700 mb-2\">Min Price</label>\r\n                <input id=\"min_price\" type=\"number\" name=\"min_price\" value={filters.min_price} onChange={handleFilterChange} placeholder=\"Min price\" className=\"input-field\" />\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"max_price\" className=\"block text-sm font-semibold text-gray-700 mb-2\">Max Price</label>\r\n                <input id=\"max_price\" type=\"number\" name=\"max_price\" value={filters.max_price} onChange={handleFilterChange} placeholder=\"Max price\" className=\"input-field\" />\r\n              </div>\r\n            </div>\r\n\r\n            <button onClick={clearFilters} className=\"w-full btn-outline mt-4\">Clear All Filters</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className={`transition-all duration-300 ${sidebarOpen ? 'ml-80' : 'ml-0'}`}>\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <div>\r\n              <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">Browse Vehicles</h1>\r\n              <p className=\"text-lg text-gray-600\">Discover your perfect ride from our curated collection</p>\r\n            </div>\r\n            <button onClick={() => setSidebarOpen(true)} className=\"btn-secondary flex items-center space-x-2\">\r\n              <span>Filters</span>\r\n              {activeFiltersCount > 0 && <span className=\"badge badge-primary\">{activeFiltersCount}</span>}\r\n            </button>\r\n          </div>\r\n\r\n          {loading ? (\r\n            <div className=\"flex justify-center items-center py-20\">\r\n              <div className=\"loading-spinner\"></div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\r\n              {vehicles.map(vehicle => (\r\n                <div key={vehicle._id} className=\"vehicle-card card-hover\">\r\n                  <div className=\"relative overflow-hidden\">\r\n                    <img\r\n                      src={getVehicleImage(vehicle)}\r\n                      alt={`${vehicle.brand} ${vehicle.model}`}\r\n                      className=\"vehicle-card-image\"\r\n                      loading=\"lazy\"\r\n                      onError={(e) => {\r\n                        (e.currentTarget as HTMLImageElement).src = 'https://via.placeholder.com/400x300?text=No+Image';\r\n                      }}\r\n                    />\r\n                    <div className=\"absolute top-4 right-4\">\r\n                      <button\r\n                        onClick={() => handleAddToCompare(vehicle._id)}\r\n                        className={`compare-btn ${compareList.includes(vehicle._id) ? 'active' : ''}`}\r\n                      >\r\n                        {compareList.includes(vehicle._id) ? '✓ Added' : 'Compare'}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"absolute top-4 left-4\">\r\n                      <span className=\"badge badge-secondary\">{vehicle.category}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"p-6\">\r\n                    <h3 className=\"text-xl font-bold text-gray-900 mb-1\">{vehicle.brand} {vehicle.model}</h3>\r\n                    <p className=\"text-gray-600 mb-2\">{vehicle.variant}</p>\r\n                    <div className=\"flex items-center space-x-2 mb-4\">\r\n                      <span className=\"badge badge-primary\">{vehicle.fuel_type}</span>\r\n                      <span className=\"text-sm text-gray-600\">{vehicle.ratings?.user_rating?.toFixed(1) || 'N/A'} ★</span>\r\n                    </div>\r\n                    <div className=\"mb-6\">\r\n                      <div className=\"price-display mb-1\">{vehicle.pricing?.ex_showroom_inr ? formatPrice(vehicle.pricing.ex_showroom_inr) : 'Price N/A'}</div>\r\n                      <p className=\"text-sm text-gray-500\">Ex-showroom price</p>\r\n                    </div>\r\n                    <Link to={`/vehicle/${vehicle._id}`} className=\"flex-1 btn-primary text-center\">View Details</Link>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {!loading && vehicles.length === 0 && (\r\n            <div className=\"text-center py-20\">\r\n              <p className=\"text-xl text-gray-600\">No vehicles found. Try adjusting your filters.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Compare Button */}\r\n      {compareList.length > 0 && (\r\n        <div className=\"fixed bottom-6 right-6 z-50\">\r\n          <div className=\"bg-white rounded-2xl shadow-2xl p-6 border-2 border-orange-200 max-w-sm\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"flex-1\">\r\n                <p className=\"text-sm font-semibold text-gray-900 mb-1\">{compareList.length} vehicle{compareList.length > 1 ? 's' : ''} selected</p>\r\n              </div>\r\n              <button onClick={handleCompareNow} disabled={compareList.length < 2} className=\"btn-primary disabled:opacity-50 disabled:cursor-not-allowed\">Compare Now</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BrowsePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}